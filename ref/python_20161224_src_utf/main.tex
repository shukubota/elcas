\documentclass[a4j,11pt,titlepage]{jarticle}
\usepackage[%
	paper=a4paper,%
	textwidth=440pt,%
	textheight=715.5pt,%
	centering,%
	headheight=2zh,%
	footskip=2zh]{geometry}

\usepackage{amsmath,amssymb,amsopn,amsthm}
\usepackage{thmtools}
\usepackage{comment}
\usepackage[shortlabels]{enumitem}
\usepackage[dvipdfmx]{xcolor}
\usepackage{cite}
\usepackage[dvipdfmx]{graphicx}
\usepackage[hang]{subfigure}
\usepackage[subfigure]{ccaption}
\usepackage[nottoc,section]{tocbibind}
\usepackage{url}
\usepackage{listings,jlisting}
\usepackage{mathtools}

% 文書のプロパティ
\title{Pythonプログラミングの手引き}
\author{%
\begin{tabular}{rl}
京都大学大学院情報学研究科
&	今井貴史\\
&	後藤貴宏\\
&	石田達大\\
&	小山和輝\\[1ex]
京都大学工学部情報学科
&	枡井啓貴
\end{tabular}}
\date{\today}

% フォント
%\usepackage[expert]{otf}
%\usepackage{pxfonts}
%\usepackage{txfonts}
%\delimiterfactor=901
%\delimitershortfall=5pt
\usepackage{fourier-orns}
\usepackage{fontawesome}
\usepackage{yhmath}

% 演算子
\DeclareMathOperator\diff{d\!}
\DeclareMathOperator\ddiff{d^2\!}
\makeatletter
\DeclareMathOperator{\@diff}{d}
\newcommand{\ndiff}[1]{\@diff^{#1}\!}
\makeatother
\DeclareMathOperator\Diff{D\!}
\DeclareMathOperator\grad{grad}
\DeclareMathOperator\Real{Re}
\DeclareMathOperator\Imag{Im}
\DeclareMathOperator\atantwo{atan2}
% 数学定数
\def\I{\mathord{I}}
\def\i{\mathord{\mathrm{i}}}
\def\e{\mathord{\mathrm{e}}}
\def\cpi{\mathord{\mathrm{\pi}}}
%\def\cpi{\mathord{\pi}}
% その他
\def\set#1{\mathbb{#1}}
\def\point#1{\mathrm#1}
\def\Vec#1{\boldsymbol{#1}}
%\def\T#1{\mathord{\mathopen{{\vphantom{#1}}^\mathrm{t}}#1}}
\def\T#1{{#1}^\top}
\def\norm#1{\left\lVert #1 \right\rVert}
\def\wildcard{\mathord{\,\cdot\,}}
\def\ol#1{\overline{#1}}

% 定理環境
\newtheoremstyle{lite}%
	{5pt}%	Space above
	{5pt}%	Space below
	{}%	Body font
	{}%	Indent amount
	{\normalfont}%	Theorem head font
	{}%	Punctuation after theorem head
	{.5em}%	Space after theorem head
	{\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}%	Theorem head spec

\theoremstyle{lite}
\definecolor{attentionbgcolor}{gray}{.9}
\declaretheorem[%
	name={{\Large \danger}},%
	numbered=no,%
	shaded={%
		bgcolor=attentionbgcolor,%
		margin=10pt}]%
	{attention}

% 表紙スタイル
\definecolor{titlecolor}{cmyk}{1,.60,0,.40}
\makeatletter
\renewcommand{\maketitle}{\begin{titlepage}%
	\newgeometry{textwidth=440pt,textheight=600pt,centering}
	\raggedright
	{\Huge\bfseries \textcolor{titlecolor}{\@title} \par}
	\vspace{2cm}
	\raggedleft
	{\Large \@author \par}
	\vfill
	\centering
	{\large \@date \par}
	\end{titlepage}%
	\restoregeometry}
\makeatother

% 見出しスタイル
\usepackage{titlesec}
\titlelabel{\S\;\thetitle.\quad}
\setcounter{secnumdepth}{3}
\titleformat{\subsubsection}{}{\thesubsubsection}{.5em}{}
\renewcommand{\thesubsubsection}{\alph{subsubsection})}
\setcounter{tocdepth}{2}

% 脚注スタイル
\makeatletter
\def\thefootnote{\ifnum\c@footnote>\z@\leavevmode\lower.5ex%
  \hbox{$^{\dagger\@arabic\c@footnote}$}\fi}
\makeatother

% 参考文献スタイル
\tocotherhead{subsection}

% ソースコードスタイル
\renewcommand{\lstlistingname}{コード}
\lstdefinestyle{cmdline}{%
	language=bash,
	basicstyle=\ttfamily\small,%
	commentstyle=\color[rgb]{0,0.5,0},%
	frame=single,%
	showstringspaces=false,%
	numbers=none}
\lstdefinestyle{python}{%
	language=python,
	basicstyle=\ttfamily\small,%
	commentstyle=\color[rgb]{0,0.5,0},%
	frame=single,%
	showstringspaces=false,%
	numbers=left}

% キャプションスタイル
\hangcaption

% 数式番号スタイル
\numberwithin{equation}{section}

% 数式スタイル
\allowdisplaybreaks[4]

% ページスタイル
\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\sectionmark}[1]{%
	\markboth{\S\;\thesection.{\quad}#1}{}}
\fancypagestyle{cover}{%
	\lhead{}
	\chead{}
	\rhead{}
	\lfoot{}
	\cfoot{}
	\rfoot{}
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}
}
\fancypagestyle{toc}{%
	\lhead{}
	\chead{}
	\rhead{}
	\lfoot{}
	\cfoot{}
	\rfoot{}
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}
}
\fancypagestyle{body}{%
	\lhead{\nouppercase\leftmark}
	\chead{}
	\rhead{\nouppercase\rightmark}
	\lfoot{}
	\cfoot{\thepage}
	\rfoot{}
	\renewcommand{\headrulewidth}{.4pt}
	\renewcommand{\footrulewidth}{0pt}
}

%%%%%%    TEXT START    %%%%%%
\begin{document}
\onecolumn
\thispagestyle{cover}
% 表紙
\maketitle
%\input{title}

\clearpage
\onecolumn
\pagenumbering{roman}
\pagestyle{toc}
% 目次
\tableofcontents

\clearpage
\onecolumn
\pagenumbering{arabic}
\pagestyle{body}
% 本文はここから


% Python環境の構築手順
\input{install}

% Jupyter Notebookの使い方
\input{jupyter}

% Pythonプログラミングのヒント
\input{tips}


\end{document}
